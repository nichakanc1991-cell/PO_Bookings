<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>P.O. CAT HOTEL | ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡πÅ‡∏°‡∏ß</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      --po-green: #0F3B2E;
      --po-cream: #F2E2C4;
      --po-gold: #D5B774;
    }
    body { background: #F7F6EE; font-family: "Prompt", sans-serif; }
    label { color: var(--po-green); }
    input, select { border: 1.5px solid #D5B774; }
    /* Popup */
    .popup-bg {
      position: fixed;
      inset: 0;
      background: rgba(15, 59, 46, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
      backdrop-filter: blur(3px);
    }
    .popup-box {
      background: var(--po-cream);
      border: 3px solid var(--po-gold);
      border-radius: 1rem;
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
      padding: 2rem 2.5rem;
      text-align: center;
      max-width: 400px;
      color: var(--po-green);
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn { from {opacity:0; transform:scale(0.95);} to {opacity:1; transform:scale(1);} }
    .popup-btn {
      margin-top: 1.5rem;
      background: var(--po-green);
      color: var(--po-cream);
      padding: 0.6rem 1.5rem;
      border-radius: 9999px;
      font-weight: 600;
      transition: background 0.3s;
    }
    .popup-btn:hover { background: #164D3D; }
  </style>
</head>

<body class="text-gray-800">
  <header class="bg-[var(--po-green)] text-[var(--po-cream)] py-6 text-center shadow-md">
    <h1 class="text-3xl font-bold">P.O. CAT HOTEL</h1>
    <p class="opacity-90 text-lg">Private & Premium Stay for Cats</p>
  </header>

  <!-- Language Switch -->
  <div class="text-right px-6 mt-3 space-x-2">
    <button class="border rounded px-2 py-1 text-sm" onclick="switchLang('th')">‡πÑ‡∏ó‡∏¢</button>
    <button class="border rounded px-2 py-1 text-sm" onclick="switchLang('en')">EN</button>
    <button class="border rounded px-2 py-1 text-sm" onclick="switchLang('zh')">‰∏≠Êñá</button>
  </div>

  <section class="max-w-3xl mx-auto bg-white mt-6 rounded-3xl shadow-lg p-8 border-4 border-[var(--po-gold)]">
    <h2 class="text-2xl font-semibold text-[var(--po-green)] mb-6" data-i18n="formTitle">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h2>

    <form id="bookingForm" class="space-y-6">
      <div>
        <label class="block mb-2 font-semibold" data-i18n="name">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á / Name</label>
        <input type="text" id="customerName" class="w-full rounded-lg p-2" required />
      </div>

      <div>
        <label class="block mb-2 font-semibold" data-i18n="phone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ / Phone</label>
        <input type="text" id="customerPhone" class="w-full rounded-lg p-2" required />
      </div>

      <div>
        <label class="block mb-2 font-semibold" data-i18n="roomType">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</label>
        <select id="roomType" class="w-full rounded-lg p-2">
          <option value="standard">Standard Room (‡∏ø250/‡∏Ñ‡∏∑‡∏ô)</option>
          <option value="suite">Suite Room (‡∏ø500/‡∏Ñ‡∏∑‡∏ô)</option>
        </select>
      </div>

      <div id="catNamesContainer">
        <label class="block mb-2 font-semibold" data-i18n="catNames">‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å</label>
        <div class="space-y-2" id="catNameList">
          <input type="text" name="catName[]" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà 1" class="w-full rounded-lg p-2">
        </div>
        <button type="button" id="addCatBtn" class="mt-2 text-[var(--po-green)] underline">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ß‡∏≠‡∏µ‡∏Å</button>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="block mb-2 font-semibold" data-i18n="checkin">‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡∏≠‡∏¥‡∏ô</label>
          <input type="date" id="checkinDate" class="w-full rounded-lg p-2 mb-2" required />
          <select id="checkinTime" class="w-full rounded-lg p-2">
            <option value="12">12:00</option><option value="13">13:00</option><option value="14">14:00</option>
            <option value="15">15:00</option><option value="16">16:00</option><option value="17">17:00</option>
            <option value="18">18:00</option><option value="19">19:00</option><option value="20">20:00</option>
            <option value="21">21:00</option><option value="22">22:00</option><option value="23">23:00</option>
          </select>
        </div>

        <div>
          <label class="block mb-2 font-semibold" data-i18n="checkout">‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡πÄ‡∏≠‡∏≤‡∏ó‡πå</label>
          <input type="date" id="checkoutDate" class="w-full rounded-lg p-2 mb-2" required />
          <select id="checkoutTime" class="w-full rounded-lg p-2">
            <option value="12">12:00</option><option value="13">13:00</option><option value="14">14:00</option>
            <option value="15">15:00</option><option value="16">16:00</option><option value="17">17:00</option>
            <option value="18">18:00</option><option value="19">19:00</option><option value="20">20:00</option>
            <option value="21">21:00</option><option value="22">22:00</option><option value="23">23:00</option>
          </select>
        </div>
      </div>

      <div>
        <label class="inline-flex items-center space-x-2">
          <input type="checkbox" id="cctv" class="w-5 h-5">
          <span data-i18n="cctv">‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£‡∏õ‡∏¥‡∏î (+‡∏ø100/‡∏Ñ‡∏∑‡∏ô)</span>
        </label>
      </div>

      <div class="border-t pt-6 text-lg font-semibold">
        <p id="durationText" class="text-[var(--po-green)]"></p>
        <p>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: <span id="totalPrice">0</span> ‡∏ö‡∏≤‡∏ó</p>
        <p>‡∏°‡∏±‡∏î‡∏à‡∏≥ 50%: <span id="depositAmount">0</span> ‡∏ö‡∏≤‡∏ó</p>
      </div>

      <button type="submit"
        class="w-full bg-[var(--po-green)] text-[var(--po-cream)] py-3 rounded-lg mt-6 hover:bg-[#164D3D] transition">
        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
      </button>
    </form>
  </section>

  <!-- Popup -->
<div id="popup" class="popup-bg hidden">
  <div class="popup-box">
    <p id="popup-message" class="text-lg leading-relaxed mb-2">
      ‚úÖ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!<br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏à‡∏≥ 50% ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ‡∏ó‡∏≤‡∏á LINE OA ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πà‡∏∞ üíö
    </p>

    <img src="qr.png" alt="QR ‡πÇ‡∏≠‡∏ô‡∏°‡∏±‡∏î‡∏à‡∏≥" />

    <p id="deposit-summary" class="text-lg font-semibold mt-2 text-[var(--po-green)]"></p>

    <a id="popup-btn" target="_blank" class="popup-btn block mt-4">
      üí¨ ‡πÅ‡∏≠‡∏î LINE OA ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ
    </a>
  </div>
</div>



  <script>
    const form = document.getElementById("bookingForm");
    const totalEl = document.getElementById("totalPrice");
    const depositEl = document.getElementById("depositAmount");
    const durationText = document.getElementById("durationText");
    const addCatBtn = document.getElementById("addCatBtn");
    const catNameList = document.getElementById("catNameList");
    const popup = document.getElementById("popup");
    const popupMsg = document.getElementById("popup-message");

    const translations = {
      th: { formTitle: "‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á", name: "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á / Name", phone: "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ / Phone",
        roomType: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å", catNames: "‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å", checkin: "‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡∏≠‡∏¥‡∏ô", checkout: "‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡πÄ‡∏≠‡∏≤‡∏ó‡πå",
        cctv: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£‡∏õ‡∏¥‡∏î (+‡∏ø100/‡∏Ñ‡∏∑‡∏ô)" },
      en: { formTitle: "Booking Details", name: "Your Name", phone: "Phone Number",
        roomType: "Select Room Type", catNames: "Cat Name(s)", checkin: "Check-in", checkout: "Check-out",
        cctv: "Add CCTV (+‡∏ø100/night)" },
      zh: { formTitle: "È†êË®ÇË©≥ÊÉÖ", name: "È†êË®Ç‰∫∫ÂßìÂêç", phone: "ÈõªË©±", roomType: "ÈÅ∏ÊìáÊàøÂûã",
        catNames: "Ë≤ìÂí™ÂêçÂ≠ó", checkin: "ÂÖ•‰ΩèÊó•Êúü", checkout: "ÈÄÄÊàøÊó•Êúü", cctv: "ÈúÄË¶ÅÁõ£ÊéßÊîùÂÉèÈ†≠ (+‡∏ø100/Êôö)" }
    };

    function switchLang(lang) {
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        el.textContent = translations[lang][el.dataset.i18n];
      });
    }

    addCatBtn.addEventListener("click", () => {
      const count = catNameList.querySelectorAll("input").length + 1;
      const input = document.createElement("input");
      input.type = "text";
      input.name = "catName[]";
      input.placeholder = "‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà " + count;
      input.className = "w-full rounded-lg p-2 mt-1";
      catNameList.appendChild(input);
      calculateTotal();
    });

    form.addEventListener("input", calculateTotal);

   function calculateTotal() {
  const room = form.roomType.value;
  const cats = catNameList.querySelectorAll("input").length;
  const cctv = form.cctv.checked;

  const checkinDate = new Date(form.checkinDate.value);
  const checkoutDate = new Date(form.checkoutDate.value);
  const checkinHour = parseInt(form.checkinTime.value || 12);
  const checkoutHour = parseInt(form.checkoutTime.value || 12);

  // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö
  checkinDate.setHours(checkinHour, 0, 0);
  checkoutDate.setHours(checkoutHour, 0, 0);

  if (!form.checkinDate.value || !form.checkoutDate.value) return;
  if (checkoutDate <= checkinDate) return;

  // ‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
  const diffHours = (checkoutDate - checkinDate) / (1000 * 60 * 60);
  const fullDays = Math.floor(diffHours / 24);
  const remainHours = diffHours % 24;

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
  function getRate(roomType, hours) {
    if (roomType === "standard") {
      if (hours <= 3) return 50;
      if (hours <= 12) return 150;
      return 250;
    } else if (roomType === "suite") {
      if (hours <= 3) return 100;
      if (hours <= 12) return 300;
      return 500;
    }
  }

  let total = 0;

  // üü¢ ‡∏´‡πâ‡∏≠‡∏á Standard: ‡∏Ñ‡∏π‡∏ì‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏°‡∏ß‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏ß‡∏á
  if (room === "standard") {
    const dailyRate = getRate("standard", 24) * cats * fullDays;
    const extraRate = remainHours > 0 ? getRate("standard", remainHours) * cats : 0;
    total = dailyRate + extraRate;

  // üü£ ‡∏´‡πâ‡∏≠‡∏á Suite: ‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡∏Ñ‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏ó, ‡∏ï‡∏±‡∏ß‡∏ï‡πà‡∏≠‡πÑ‡∏õ +200 ‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö
  } else if (room === "suite") {
    // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å)
    const baseRatePerDay = getRate("suite", 24);
    const baseExtra = remainHours > 0 ? getRate("suite", remainHours) : 0;

    // ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞ 200 ‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö (‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô + ‡∏£‡∏≠‡∏ö‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)
    const extraCatsRate = (cats - 1) * 200 * (fullDays + (remainHours > 0 ? 1 : 0));

    total = (baseRatePerDay * fullDays) + baseExtra + extraCatsRate;
  }

  // ‡∏Å‡∏•‡πâ‡∏≠‡∏á CCTV (+100 ‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏∑‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≠‡∏ö)
  if (cctv) total += 100 * (fullDays + (remainHours > 0 ? 1 : 0));

  const deposit = total * 0.5;

  durationText.textContent =
    `‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å: ${fullDays} ‡∏ß‡∏±‡∏ô ${Math.round(remainHours)} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (${Math.round(diffHours)} ‡∏ä‡∏°. ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)`;
  totalEl.textContent = total.toLocaleString();
  depositEl.textContent = deposit.toLocaleString();
}

  </script>
  <!-- ‡πÇ‡∏´‡∏•‡∏î html2canvas -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à -->
<div class="text-center mt-4">
  <button id="downloadReceipt" class="popup-btn hidden">üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
</div>

<!-- Template ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à (‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà) -->
<div id="receipt-template" class="hidden bg-[#F7F6EE] text-[#0F3B2E] w-[400px] p-6 rounded-2xl border-4 border-[#D5B774] text-[16px] leading-relaxed">
  <div class="text-center mb-4">
    <img src="logo-po.png" alt="PO GROOMING Logo" class="mx-auto w-24 mb-2">
    <h2 class="text-2xl font-bold">PO GROOMING & CAT HOTEL</h2>
    <p class="text-sm opacity-80">Private & Premium Stay for Cats</p>
    <p id="receiptDate" class="text-sm mt-1"></p>
  </div>

  <hr class="border-[#D5B774] my-3">

  <div id="receiptContent" class="space-y-1 text-[15px]"></div>

  <hr class="border-[#D5B774] my-3">

  <div class="mt-3 text-center text-[15px]">
    <p>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üíö</p>
    <p class="font-semibold mt-2">PO GROOMING & CAT HOTEL</p>
    <p>LINE: @po_grooming</p>
  </div>
</div>

<script>
const downloadBtn = document.getElementById("downloadReceipt");

downloadBtn.addEventListener("click", () => {
  const receipt = document.getElementById("receipt-template");
  html2canvas(receipt, { scale: 3 }).then(canvas => {
    const link = document.createElement("a");
    link.download = `PO_CAT_HOTEL_Receipt_${form.customerName.value}.png`;
    link.href = canvas.toDataURL("image/png");
    link.click();
  });
});

<script>
const downloadBtn = document.getElementById("downloadReceipt");

downloadBtn.addEventListener("click", () => {
  const receipt = document.getElementById("receipt-template");
  html2canvas(receipt, { scale: 3 }).then(canvas => {
    const link = document.createElement("a");
    link.download = `PO_CAT_HOTEL_Receipt_${form.customerName.value}.png`;
    link.href = canvas.toDataURL("image/png");
    link.click();
  });
});

// ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Popup ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô)
function showPopup(message, total, deposit, bookingData) {
  const popup = document.getElementById("popup"); // ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ß‡∏£‡πå
  const popupMsg = document.getElementById("popup-message");

  popupMsg.innerHTML = message;
  document.getElementById("deposit-summary").innerHTML =
    `üí∞ ‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞ (‡∏°‡∏±‡∏î‡∏à‡∏≥ 50%): <b>${deposit.toLocaleString()} ‡∏ö‡∏≤‡∏ó</b>`;

  // ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡∏∏‡∏õ‡∏™‡πà‡∏á LINE OA
  const text = encodeURIComponent(
    `‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å P.O. CAT HOTEL
‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: ${bookingData.name}
‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£: ${bookingData.phone}
‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á: ${bookingData.room}
‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏°‡∏ß: ${bookingData.cats} ‡∏ï‡∏±‡∏ß
‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡∏≠‡∏¥‡∏ô: ${bookingData.checkinDate} ${bookingData.checkinTime}:00
‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡πÄ‡∏≠‡∏≤‡∏ó‡πå: ${bookingData.checkoutDate} ${bookingData.checkoutTime}:00
‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: ${bookingData.duration}
‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${total.toLocaleString()} ‡∏ö‡∏≤‡∏ó
‡∏¢‡∏≠‡∏î‡∏°‡∏±‡∏î‡∏à‡∏≥ 50%: ${deposit.toLocaleString()} ‡∏ö‡∏≤‡∏ó

‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡∏°‡∏±‡∏î‡∏à‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ üíö`
  );

  // ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î LINE ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
  const lineUrl = `https://lin.ee/5bM7PZO?text=${text}`;
  document.getElementById("popup-btn").href = lineUrl;

  // ‚úÖ ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à
  const now = new Date();
  const dateStr = now.toLocaleDateString("th-TH", {
    year: "numeric", month: "long", day: "numeric"
  });
  document.getElementById("receiptDate").textContent = `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à: ${dateStr}`;

  const receiptContent = document.getElementById("receiptContent");
  receiptContent.innerHTML = `
    <p>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: ${bookingData.name}</p>
    <p>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: ${bookingData.phone}</p>
    <p>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á: ${bookingData.room}</p>
    <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏°‡∏ß: ${bookingData.cats} ‡∏ï‡∏±‡∏ß</p>
    <p>‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡∏≠‡∏¥‡∏ô: ${bookingData.checkinDate} ${bookingData.checkinTime}:00</p>
    <p>‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Å‡πÄ‡∏≠‡∏≤‡∏ó‡πå: ${bookingData.checkoutDate} ${bookingData.checkoutTime}:00</p>
    <p>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å: ${bookingData.duration}</p>
    <hr class="border-[#D5B774] my-3">
    <p><b>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</b> ${total.toLocaleString()} ‡∏ö‡∏≤‡∏ó</p>
    <p><b>‡∏°‡∏±‡∏î‡∏à‡∏≥ 50% ‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß:</b> ${deposit.toLocaleString()} ‡∏ö‡∏≤‡∏ó</p>
    <p><b>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</b> ‚úÖ ‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å</p>
  `;

  // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á popup ‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î
  popup.classList.remove("hidden");
  downloadBtn.classList.remove("hidden");
}

// ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
form.addEventListener("submit", e => {
  e.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ reload ‡∏´‡∏ô‡πâ‡∏≤

  const bookingData = {
    name: form.customerName.value.trim(),
    phone: form.customerPhone.value.trim(),
    room: form.roomType.value === "standard" ? "Standard Room" : "Suite Room",
    cats: catNameList.querySelectorAll("input").length,
    checkinDate: form.checkinDate.value,
    checkinTime: form.checkinTime.value,
    checkoutDate: form.checkoutDate.value,
    checkoutTime: form.checkoutTime.value,
    duration: durationText.textContent,
  };

  const total = parseInt(totalEl.textContent.replace(/,/g, "")) || 0;
  const deposit = parseInt(depositEl.textContent.replace(/,/g, "")) || 0;

  // ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î popup
  if (!bookingData.name || !bookingData.phone || !bookingData.checkinDate || !bookingData.checkoutDate) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ üíö");
    return;
  }

  showPopup(
    "‚úÖ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!<br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏à‡∏≥ 50% ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ‡∏ó‡∏≤‡∏á LINE OA ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πà‡∏∞ üíö",
    total,
    deposit,
    bookingData
  );
});
</script>

// üü¢ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
form.addEventListener("submit", e => {
  e.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô reload ‡∏´‡∏ô‡πâ‡∏≤

  const bookingData = {
    name: form.customerName.value,
    phone: form.customerPhone.value,
    room: form.roomType.value === "standard" ? "Standard Room" : "Suite Room",
    cats: catNameList.querySelectorAll("input").length,
    checkinDate: form.checkinDate.value,
    checkinTime: form.checkinTime.value,
    checkoutDate: form.checkoutDate.value,
    checkoutTime: form.checkoutTime.value,
    duration: durationText.textContent,
  };

  const total = parseInt(totalEl.textContent.replace(/,/g, "")) || 0;
  const deposit = parseInt(depositEl.textContent.replace(/,/g, "")) || 0;

  showPopup(
    "‚úÖ ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!<br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏à‡∏≥ 50% ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ‡∏ó‡∏≤‡∏á LINE OA ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πà‡∏∞ üíö",
    total,
    deposit,
    bookingData
  );
});
  </script>

  <button id="downloadReceipt" type="button" class="popup-btn hidden">
  üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
</button>

</body>
</html>
