<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PO Grooming ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?ver=3.4.1"></script>

  <!-- JS ‡∏´‡∏•‡∏±‡∏Å -->
  <script src="grooming.js"></script>

  <style>
    :root{
      --po-deep:#0b3d36;
      --po-forest:#1c322d;
      --po-olive:#324f44;
      --po-card:#f6f9f7;
      --po-border:#dbe4df;
    }
    body{
      background:linear-gradient(to bottom,var(--po-deep),#f8f4e7);
    }
  </style>
</head>

<body class="min-h-screen">
<main class="max-w-4xl mx-auto p-4">

  <!-- HEADER -->
  <header class="mb-4 p-4 bg-white/80 rounded-xl shadow flex justify-between items-center">
    <h1 class="text-xl font-bold text-[var(--po-forest)]">
      üêæ PO Grooming ‚Äì ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß
    </h1>
    <a href="https://docs.google.com/spreadsheets/d/1xhS3Yl5BpTkTSjEKT_nMM6G7qgCf7-m7vkFZjiWaGmE/edit#gid=0"
       target="_blank" class="text-indigo-700 underline text-sm">‡πÄ‡∏õ‡∏¥‡∏î Google Sheet</a>
  </header>

  <!-- STEP 1 : Calendar -->
  <section class="p-4 rounded-xl bg-white shadow mb-4">
    <h2 class="text-lg font-semibold text-[var(--po-forest)] mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</h2>

    <div id="calendarDays" class="grid grid-cols-2 sm:grid-cols-3 gap-2">
      <!-- ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
    </div>

    <hr class="my-4">

    <h2 class="text-lg font-semibold text-[var(--po-forest)] mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤</h2>
    <div id="calendarTimes" class="grid grid-cols-2 sm:grid-cols-3 gap-2"></div>

    <input type="hidden" id="selectedTime">
  </section>

  <!-- STEP 2 : ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á -->
  <section id="step2" class="p-4 rounded-xl bg-white shadow mb-4 hidden">
    <h2 class="text-lg font-semibold text-[var(--po-forest)] mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</h2>
    <label class="text-sm">‡∏ä‡∏∑‡πà‡∏≠‚Äì‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•/‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
    <input id="custName" class="w-full p-2 border rounded-xl mb-3" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏ô‡∏ô / ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏°">

    <label class="text-sm">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
    <input id="custPhone" class="w-full p-2 border rounded-xl mb-3" placeholder="08xxxxxxxx">

    <button onclick="goStep3()" class="mt-3 w-full py-2 rounded-xl bg-[var(--po-olive)] text-white font-bold">
      ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
    </button>
  </section>

  <!-- STEP 3 : ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå -->
  <section id="step3" class="p-4 rounded-xl bg-white shadow mb-4 hidden">
    <h2 class="text-lg font-semibold text-[var(--po-forest)] mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ô‡πâ‡∏≠‡∏á (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 3 ‡∏ï‡∏±‡∏ß)</h2>

    <div id="petsBox"></div>

    <button onclick="addPet()" class="mt-3 px-3 py-2 border rounded-xl">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏±‡∏ï‡∏ß‡πå</button>

    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ -->
    <div id="priceDogBox" class="mt-4 hidden">
      <img src="./price-dog.png" class="rounded-xl border shadow">
      <img src="./option.png" class="rounded-xl border shadow mt-2">
    </div>

    <div id="priceCatBox" class="mt-4 hidden">
      <img src="./price-cat.png" class="rounded-xl border shadow">
      <img src="./option.png" class="rounded-xl border shadow mt-2">
    </div>

    <button onclick="goStep4()" class="mt-4 w-full py-2 rounded-xl bg-indigo-600 text-white">
      ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
    </button>
  </section>

  <!-- STEP 4 : ‡∏™‡∏£‡∏∏‡∏õ + ‡∏°‡∏±‡∏î‡∏à‡∏≥ -->
  <section id="step4" class="p-4 rounded-xl bg-white shadow mb-4 hidden">
    <h2 class="text-lg font-semibold text-[var(--po-forest)] mb-2">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>

    <div id="summary" class="text-sm leading-6"></div>

    <button onclick="sendToLINE()"
            id="finalButton"
            class="hidden w-full mt-4 py-3 bg-green-600 text-white rounded-xl font-bold">
      ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏•‡∏ô‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• & ‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ‡∏°‡∏±‡∏î‡∏à‡∏≥
    </button>
  </section>

</main>

<script>
/* ==============
   ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏±‡∏ï‡∏ß‡πå
   ============== */
function addPet() {
  if (petCount >= 3) return alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 3 ‡∏ï‡∏±‡∏ß‡∏Ñ‡πà‡∏∞");

  petCount++;
  renderPets();
}

/* render ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á */
function renderPets() {
  const box = document.getElementById("petsBox");
  box.innerHTML = "";

  pets = [];

  for (let i = 1; i <= petCount; i++) {
    const html = `
      <div class="p-3 border rounded-xl mb-3" id="pet-${i}">
        <div class="font-semibold mb-2">‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà ${i}</div>

        <label class="text-xs">‡∏ä‡∏ô‡∏¥‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå *</label>
        <select id="petType-${i}" onchange="updatePriceImages()" class="w-full p-2 border rounded-xl mb-2">
          <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
          <option value="dog">‡∏™‡∏∏‡∏ô‡∏±‡∏Ç</option>
          <option value="cat">‡πÅ‡∏°‡∏ß</option>
        </select>

        <label class="text-xs">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å *</label>
        <select id="weight-${i}" class="w-full p-2 border rounded-xl mb-2">
          <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
          <option value="xs">XS</option>
          <option value="s">S</option>
          <option value="m">M</option>
          <option value="l">L</option>
          <option value="xl">XL (‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏´‡∏ç‡πà)</option>
        </select>

        <label class="text-xs">‡∏™‡∏†‡∏≤‡∏û‡∏Ç‡∏ô *</label>
        <select id="hair-${i}" class="w-full p-2 border rounded-xl mb-2">
          <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
          <option value="short">‡∏Ç‡∏ô‡∏™‡∏±‡πâ‡∏ô</option>
          <option value="long">‡∏Ç‡∏ô‡∏¢‡∏≤‡∏ß</option>
        </select>

        <label class="text-xs">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ *</label>
        <select id="service-${i}" class="w-full p-2 border rounded-xl mb-2">
          <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
          <option value="bath">‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</option>
          <option value="cutonly">‡∏ï‡∏±‡∏î‡∏Ç‡∏ô</option>
          <option value="bathcut">‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏Ç‡∏ô</option>
        </select>

        <label class="text-xs">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label>
        <input id="method-${i}" class="w-full p-2 border rounded-xl mb-1" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏£‡∏µ‡∏ï‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏ô / ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏´‡∏π">
      </div>
    `;
    box.insertAdjacentHTML("beforeend", html);
  }
}

/* ==============
   ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏´‡∏°‡∏≤/‡πÅ‡∏°‡∏ß‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
   ============== */
function updatePriceImages() {
  let anyDog = false, anyCat = false;

  for (let i = 1; i <= petCount; i++) {
    const t = document.getElementById(`petType-${i}`).value;
    if (t === "dog") anyDog = true;
    if (t === "cat") anyCat = true;
  }

  document.getElementById("priceDogBox").classList.toggle("hidden", !anyDog);
  document.getElementById("priceCatBox").classList.toggle("hidden", !anyCat);
}

/* ==============
   Step control
   ============== */
function goStep3() {
  if (!selectedDate || !selectedTime)
    return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤");

  if (!custName.value.trim() || !custPhone.value.trim())
    return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏≠‡∏£‡πå");

  document.getElementById("step2").classList.add("hidden");
  document.getElementById("step3").classList.remove("hidden");
  renderPets();
}

function goStep4() {
  for (let i = 1; i <= petCount; i++) {
    const t = document.getElementById(`petType-${i}`).value;
    const s = document.getElementById(`service-${i}`).value;
    const w = document.getElementById(`weight-${i}`).value;
    const h = document.getElementById(`hair-${i}`).value;

    if (!t || !s || !w || !h) {
      return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡πà‡∏∞");
    }
  }

  document.getElementById("step3").classList.add("hidden");
  document.getElementById("step4").classList.remove("hidden");

  renderSummary();
}

/* ==============
   ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î
   ============== */
function renderSummary() {
  const box = document.getElementById("summary");

  let html = `
    <p>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: <b>${selectedDate}</b></p>
    <p>‡πÄ‡∏ß‡∏•‡∏≤: <b>${selectedTime}</b></p>
    <hr class="my-2">
  `;

  html += `<p class="font-semibold">‡∏¢‡∏≠‡∏î‡∏°‡∏±‡∏î‡∏à‡∏≥‡∏£‡∏ß‡∏°: ${calcDeposit()} ‡∏ö‡∏≤‡∏ó</p>`;

  box.innerHTML = html;
  document.getElementById("finalButton").classList.remove("hidden");
}

/* ==============
   ‡∏°‡∏±‡∏î‡∏à‡∏≥‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏≤‡∏°‡∏Å‡∏é
   ============== */
function calcDeposit() {
  let dep = 0;

  for (let i = 1; i <= petCount; i++) {
    const type = document.getElementById(`petType-${i}`).value;
    const service = document.getElementById(`service-${i}`).value;
    const weight = document.getElementById(`weight-${i}`).value;

    if (type === "dog" && weight === "xl") {
      dep += 400;
      continue;
    }
    if (service === "bath") dep += 200;
    if (service === "cutonly") dep += 200;
    if (service === "bathcut") dep += 400;
  }

  return dep;
}

</script>

</body>
</html>
